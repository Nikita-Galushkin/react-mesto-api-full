{"ast":null,"code":"import _classCallCheck from\"/Users/family/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/family/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;this._credentials=options.credentials;}_createClass(Api,[{key:\"getInitialsCards\",value:function getInitialsCards(){return fetch(\"\".concat(this._baseUrl,\"cards\"),{method:'GET',headers:this._headers,credentials:this._credentials}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"users/me\"),{method:'GET',headers:this._headers,credentials:this._credentials}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}},{key:\"setUserInfo\",value:function setUserInfo(info){return fetch(\"\".concat(this._baseUrl,\"users/me\"),{method:'PATCH',headers:this._headers,credentials:this._credentials,body:JSON.stringify(info)}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}},{key:\"setUserAvatar\",value:function setUserAvatar(link){return fetch(\"\".concat(this._baseUrl,\"users/me/avatar\"),{method:'PATCH',headers:this._headers,credentials:this._credentials,body:JSON.stringify(link)}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}},{key:\"postCard\",value:function postCard(card){return fetch(\"\".concat(this._baseUrl,\"cards\"),{method:'POST',headers:this._headers,credentials:this._credentials,body:JSON.stringify(card)}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}},{key:\"removeCard\",value:function removeCard(id){return fetch(\"\".concat(this._baseUrl,\"cards/\").concat(id),{method:'DELETE',headers:this._headers,credentials:this._credentials}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,status){return fetch(\"\".concat(this._baseUrl,\"cards/likes/\").concat(cardId),{method:status?'PUT':'DELETE',headers:this._headers,credentials:this._credentials}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));});}}]);return Api;}();var api=new Api({baseUrl:'https://api.web.gavrik.students.nomoreparties.xyz/',headers:{authorization:localStorage.getItem('jwt'),'Content-Type':'application/json'},credentials:'include'});export default api;","map":{"version":3,"sources":["/Users/family/dev/react-mesto-auth/src/utils/api.js"],"names":["Api","options","_baseUrl","baseUrl","_headers","headers","_credentials","credentials","fetch","method","then","res","ok","json","Promise","reject","status","statusText","info","body","JSON","stringify","link","card","id","cardId","api","authorization","localStorage","getItem"],"mappings":"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","sourcesContent":["class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n    this._credentials = options.credentials;\n  }\n\n  getInitialsCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'GET',\n      headers: this._headers,\n      credentials: this._credentials,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  } \n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'GET',\n      headers: this._headers,\n      credentials: this._credentials,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  setUserInfo(info) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: this._credentials,\n      body: JSON.stringify(info)\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: this._credentials,\n      body: JSON.stringify(link)\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  postCard(card) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: this._credentials,\n      body: JSON.stringify(card)\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  removeCard(id) {\n    return fetch(`${this._baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      credentials: this._credentials,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, status) {\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n      method: (status) ? 'PUT' : 'DELETE',\n      headers: this._headers,\n      credentials: this._credentials,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://api.web.gavrik.students.nomoreparties.xyz/',\n  headers: {\n    authorization: localStorage.getItem('jwt'),\n    'Content-Type': 'application/json'\n  },\n  credentials: 'include',\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}